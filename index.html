<p><!DOCTYPE html>
<html ng-app="courses">
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="Style.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
        <script src="http://www.parsecdn.com/js/parse-1.3.5.min.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        <script>
            //Parse.initialize("cfjEGfMBX9PMvwb1ien9G5J6ttN6C3zDozBoL0Kp", "E4gtLnecX313jK3D8iSbreyDKUyt09aKTaw8A6Ki");
			Parse.initialize("StLdNROxObnXnsMmMQy04IGTESb3knvycrHsuiXH", "kUE1Qjc4JWx5I2wMQ4tVpkhl8wwZyGJpGcGdkuVd");
        </script>
		
		<script src="http://maps.googleapis.com/maps/api/js"></script>
		<script>
			var drawMarker = function(currentCourse, i, lat, lon) {	
				if (currentCourse.markers[i] != undefined) {
					currentCourse.markers[i].setMap(null);
					currentCourse.markers[i] = null;
				}
			 	currentCourse.markers[i] = new google.maps.Marker({
			  						position: {lat: lat, lng: lon},
			  						map: currentCourse.maps[i],
			  						title: 'Hole '
		  						});
								console.log(JSON.stringify(currentCourse.markers[i]));
							}
		</script>
    </head>
    <body ng-controller="courseController as courseCtrl">
    <h1 init="addingCourse = false">Golf Course Database</h1>
        <div>
            <form name="signIn">
                <input ng-show="SignedIn === false" ng-model="Details.Username" placeholder="Username" required></input>
                <input ng-show="SignedIn === false" ng-model="Details.Password" type="{{inputType}}" placeholder="Password" required></input>
                <a href ng-show="SignedIn === false" ng-click="courseCtrl.signIn(Details)" class="myButton">Sign In</a>
                <a href ng-show="SignedIn === false" ng-click="courseCtrl.signUp(Details)" class="myButton">Sign Up</a>
                <p ng-show="PassWrong === true">You Username/Password Was Incorrect</p>
                <p ng-show="SignedIn === true">Hello, You Are Logged In As {{Username}}</p>
                <a href ng-show="SignedIn === true" ng-click="courseCtrl.logOut(Details)" class="myButton">Log Out</a>
            </form>
        </div>
	
        <div ng-init="isEditing = false; showHoles = false; deleting = false; editMaps = false" ng-repeat="courseDatabase in courseCtrl.courseDatabases">
            <h2>
                <h3>{{courseDatabase.name}}</h3>
                <a href ng-show="showHoles !== true" ng-click="showHoles = true" class="myButton">Show Holes</a>
                <a href ng-show="showHoles === true" ng-click="showHoles = false; isEditing = false; editMaps = false" class="myButton2">Hide Holes</a>                  
            	<a href ng-show="(courseDatabase.author === Username) && !isEditing" ng-click="isEditing = true; showHoles = true; editMaps = false" class="myButton">Edit</a>
				<a href ng-show="isEditing && !editMaps" ng-click="isEditing = true; showHoles = true; editMaps = true" class="myButton">Edit Maps</a>
				<a href ng-show="isEditing" ng-click="isEditing = false; showHoles = false; editMaps = false" class="myButton2">Cancel</a>
                <a href ng-click="deleting = true" ng-show="isEditing" class="myButton2">Delete</a>
                <h4 ng-show="deleting === true">Are You Sure?</h4>
                <a href ng-show="deleting === true" ng-click="courseCtrl.deleteCourse(courseDatabase)" class="myButton">Yes</a>
                <a href ng-show="deleting === true" ng-click="deleting = false" class="myButton2">No</a>
			</h2>
            <hr>
            <div>
                <form name="EditCourse" ng-submit="courseCtrl.updateCourse(courseDatabase)" novalidate>
                    <input ng-model="courseDatabase.name" ng-show="isEditing" placeholder="Name" required></input>
                    <input type="submit" value="Save" ng-show="isEditing" ng-click="isEditing = false" class="myButton2"></input>
                </form>
            </div>
			
			<div style="width: 94%; margin-left: 3%; margin-right: 3%">
			<table ng-show="showHoles === true" class="table table-striped table-bordered table-condensed" align="center">
				<tr>
					<th style="text-align: center">Hole Number</th>
					<th style="text-align: center">Par</th>
					<th style="text-align: center">Stroke Index</th>
					<th style="text-align: center">Waypoints</th>
					<th style="text-align: center" ng-show="editMaps">Map</th>
				</tr>
				<tr data-ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]" >
					<td align="center" ng-show="!editMaps">
						{{i}}
					</td>
					<td align="center" ng-show="editMaps" ng-click="courseCtrl.showMap($index,courseDatabase,courseDatabase.holes[i-1].Lat, courseDatabase.holes[i-1].Long)">
						<a href ng-click="courseCtrl.showMap($index,courseDatabase,courseDatabase.holes[i-1].Lat, courseDatabase.holes[i-1].Long)" class="myButton">Edit Hole {{i}} Map</a>
					</td>
					<td ng-show="!isEditing" align="center">
						{{courseDatabase.holes[i-1].Par}}
					</td>
					<td ng-show="isEditing" align="center">
						<input style="text-align: center" maxlength="1" size="3" ng-model="courseDatabase.holes[i-1].Par" placeholder="Par"/>
					</td>
					<td ng-show="!isEditing" align="center">
						{{courseDatabase.holes[i-1].StrokeIndex}}
					</td>
					<td ng-show="isEditing" align="center">
						<input style="text-align: center" maxlength="2" size="2" ng-model="courseDatabase.holes[i-1].StrokeIndex" placeholder="SI"/>
					</td>
					<td align="center">
						<table class="table table-striped table-bordered table-condensed" style="margin-bottom: 0px;">
						<tr data-ng-repeat="Waypoint in courseDatabase.holes[i-1].Waypoints">
							<td ng-show="!editMaps">{{Waypoint.Description}}</td>
							<td ng-show="editMaps">
								<input style="text-align: center" maxlength="20" size="20" ng-model="Waypoint.Description" placeholder="Description"/>
							</td>
							<td ng-show="!editMaps" align="center">{{Waypoint.Lat}}</td>
							<td ng-show="editMaps">
								<input style="text-align: center" maxlength="12" size="12" ng-model="Waypoint.Lat" placeholder="0.000000"/>
							</td>
							<td ng-show="!editMaps" align="center">{{Waypoint.Lon}}</td>
							<td ng-show="editMaps">
								<input style="text-align: center" maxlength="12" size="12" ng-model="Waypoint.Lon" placeholder="0.000000"/>
							</td>
						</tr>
						</table>
					</td>

					<td ng-show="editMaps" align="center">
						<div id="googleMap{{courseDatabase.id}}{{$index}}" style="width:500px;height:380px;"></div>
					</td>

				</tr>
				
			</table>
		</div>
        </form>
        </div>
        <a href ng-click="addingCourse = true" class="myButton" ng-show="SignedIn === true">Add Course</a>
        <a href ng-show="addingCourse === true" ng-click="addingCourse = false" class="myButton2">Cancel</a>
		<p>
        <form name="AddCourse" ng-submit="courseCtrl.addCourse(addCourseDatabase)" ng-show="SignedIn === true" novalidate>
             <input ng-model="addCourseDatabase.name" ng-show="addingCourse === true" placeholder="Name" required></input>
             <input type="submit" value="Submit" ng-show="addingCourse === true" ng-click="addingCourse = false"></input>
             <p ng-show="addingCourse === true">You Can Edit Positions, Pars And Stroke Indexes Through The Edit Menu.</p>
        </form>
    </body>
</html></p>
